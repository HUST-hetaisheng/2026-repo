# 2026 MCM C 题 · 第二问  
## 建模思路说明文档（Q2 Vote Combination & Elimination Rule Comparison）

> 本文档用于记录第二问「投票组合与淘汰规则比较」的建模思路，帮助队友理解：
> - 问题拆解与核心目标
> - 具体的可执行步骤
> - 需要完成的分析与可视化
> - 最终的政策建议逻辑

---

## 一、问题回顾与核心目标

### 1.1 题目要求
**Task 2: Comparison of Vote Combination and Elimination Rules**
> Using the estimated fan votes, the rank-based and percentage-based methods for combining judges' scores and fan votes are compared across seasons. The effects of alternative elimination procedures, including judges selecting from the bottom two contestants, are also evaluated, leading to a justified recommendation for future seasons.

### 1.2 核心子任务拆解

| 子任务 | 描述 | 关键输出 |
|--------|------|----------|
| **2.1** | 比较 Rank-based 与 Percent-based 两种组合方法 | 偏差分析、公平性指标 |
| **2.2** | 评估 Bottom2 + Judges' Save 规则的影响 | 评委权力分析、结果敏感性 |
| **2.3** | 为未来赛季提供推荐方案 | 带论证的政策建议 |

---

## 二、数据准备与输入

### 2.1 已有数据（来自第一问）
从 `fan_vote_results_v4.csv` 获得：
- `season`, `week`, `celebrity_name`
- `fan_vote_share`: 估计的观众投票份额
- `fan_rank`: 观众排名
- `judge_total`: 评委总分
- `eliminated`: 是否被淘汰
- `regime`: 规则类型 (rank / percent / bottom2)
- `cv`, `ci_low`, `ci_high`: 不确定性指标

### 2.2 需要补充的派生变量
```python
# 需要在代码中计算的新变量
judge_share = J_{i,t} / sum(J_{k,t})  # 评委份额
combined_score_percent = judge_share + fan_vote_share  # Percent规则下的组合分
combined_rank_rank = judge_rank + fan_rank  # Rank规则下的组合排名
```

---

## 三、子任务详细方法

### 3.1 子任务2.1：Rank vs Percent 规则比较

#### 3.1.1 核心问题
两种规则在**相同投票数据**下会产生不同的淘汰结果吗？哪种规则更"公平"？

#### 3.1.2 分析方法

**A. 反事实模拟 (Counterfactual Simulation)**
```
对于每个赛季的每一周：
1. 使用估计的 fan_vote_share
2. 计算在 Percent 规则下的排序
3. 计算在 Rank 规则下的排序
4. 比较两种规则下谁会被淘汰
```

**B. 淘汰结果不一致率 (Elimination Disagreement Rate)**
$$
\text{EDR} = \frac{|\{(s,w): E^{rank}_{s,w} \neq E^{percent}_{s,w}\}|}{|\{(s,w)\}|}
$$

**C. 偏差分析维度**
| 偏差类型 | 定义 | 检验方法 |
|----------|------|----------|
| **舞技偏差** | 高评委分但低投票的选手是否被不公平淘汰？ | 比较两规则下评委分 vs 存活周数的相关性 |
| **人气偏差** | 高投票但低评委分的选手是否被保护过度？ | 分析"争议选手"案例 |
| **排名压缩效应** | Rank规则是否在选手多时对边缘选手更严格？ | 检验 $|A_t|$ 与淘汰边际的关系 |

**D. 公平性指标**
1. **Skill-Outcome Correlation**:
   $$\rho_{skill} = \text{corr}(\text{avg\_judge\_share}, \text{placement})$$
   越高说明"跳得好 → 排名好"

2. **Popularity-Outcome Correlation**:
   $$\rho_{pop} = \text{corr}(\text{avg\_fan\_share}, \text{placement})$$

3. **Gini Coefficient of Combined Scores**: 衡量综合分分布的均匀程度

#### 3.1.3 可视化
- [ ] 散点图：评委份额 vs 投票份额，按淘汰/存活着色
- [ ] 热力图：按赛季和周数展示两规则淘汰不一致的位置
- [ ] 箱线图：按规则类型比较评委分与最终名次的相关性分布

---

### 3.2 子任务2.2：Bottom2 + Judges' Save 规则评估

#### 3.2.1 规则背景 (Seasons 28-34)
1. 根据 combined score 选出 bottom 2
2. 评委在 bottom 2 中决定淘汰谁
3. 这给了评委"二次投票权"

#### 3.2.2 关键分析问题
| 问题 | 分析方法 |
|------|----------|
| 评委的选择是否偏向评委分高的选手？ | 统计 bottom2 中被 save 的选手与评委分的关系 |
| Judges' Save 是否改变了最终结果？ | 反事实：如果没有 save（直接淘汰 bottom1），结果如何？ |
| 观众对 Judges' Save 的反应？ | 观察 save 后选手下周的投票变化 |

#### 3.2.3 具体步骤

**A. 识别 Bottom2 事件**
```python
# 从数据中识别哪些周发生了 bottom2
bottom2_weeks = df[(df['regime'] == 'bottom2') & (df['week_type'] == 'single_elim')]
```

**B. Judges' Save 分析**
对于每个 bottom2 周：
1. 识别被淘汰者 $e$ 和被拯救者 $b$
2. 计算 $\Delta J = J_b - J_e$（评委分差）
3. 计算 $\Delta F = f_b - f_e$（投票份额差）
4. 分析 save 决策与分数差的关系

**C. 评委权力指数 (Judge Power Index)**
$$
\text{JPI} = \frac{|\{w: \text{save reversed outcome}\}|}{|\{w: \text{bottom2 occurred}\}|}
$$
即评委的 save 决策在多少比例的情况下"逆转"了投票结果。

**D. 结果敏感性分析**
- 如果 bottom2 后直接淘汰 combined score 最低者，最终排名会如何变化？
- 哪些选手因为 judges' save 最终排名更高/更低？

---

### 3.3 子任务2.3：政策建议

#### 3.3.1 建议框架
基于分析结果，从以下维度评估规则：

| 评估维度 | 指标 | 理想方向 |
|----------|------|----------|
| **公平性** | Skill-Outcome Correlation | 高（技术应该被奖励） |
| **参与感** | Fan Vote Influence | 适中（不能太低也不能压倒评委） |
| **可预测性** | Elimination Stability | 高（避免争议淘汰） |
| **娱乐性** | Drama/Upset Rate | 适中（偶尔的逆转增加看点） |

#### 3.3.2 可能的推荐方向
1. **维持 Percent 规则**：如果分析显示 Percent 规则在公平性和参与感上表现更好
2. **改进 Bottom2 机制**：例如限制评委只能在特定条件下 save
3. **混合方案**：例如常规周用 Percent，淘汰赛用 Rank
4. **透明化投票权重**：根据赛季阶段动态调整评委/观众权重

---

## 四、代码实现计划

### 4.1 文件结构
```
code/
├── task2_rule_comparison.py      # 主分析脚本
├── task2_counterfactual.py       # 反事实模拟
└── task2_visualization.py        # 可视化
```

### 4.2 核心代码模块

```python
# task2_rule_comparison.py 主要函数

def compute_counterfactual_elimination(df, rule='percent'):
    """在给定规则下计算谁会被淘汰"""
    pass

def compare_rules(df):
    """比较 rank vs percent 规则的淘汰差异"""
    pass

def analyze_bottom2_save(df):
    """分析 judges' save 的模式"""
    pass

def compute_fairness_metrics(df):
    """计算公平性指标"""
    pass

def generate_recommendation(metrics):
    """基于指标生成政策建议"""
    pass
```

### 4.3 输出文件
```
data/
├── task2_counterfactual_results.csv   # 反事实模拟结果
├── task2_fairness_metrics.csv         # 公平性指标
├── task2_bottom2_analysis.csv         # Bottom2 分析结果

figures/
├── task2_rule_disagreement_heatmap.png
├── task2_skill_vs_outcome.png
├── task2_judges_save_pattern.png
├── task2_recommendation_summary.png
```

---

## 五、论文写作大纲

### Section: Comparison of Vote Combination and Elimination Rules

#### 5.1 Introduction (0.5 page)
- 回顾三种规则的历史演变
- 提出比较的核心问题

#### 5.2 Counterfactual Analysis (1 page)
- 方法：使用估计的投票在不同规则下模拟淘汰
- 结果：淘汰不一致率、典型案例分析

#### 5.3 Fairness Evaluation (1 page)
- 定义公平性指标
- 按规则比较指标
- 讨论 skill vs popularity 的权衡

#### 5.4 Bottom2 + Judges' Save Analysis (0.75 page)
- Judge Power Index
- Save 决策的偏向分析
- 对结果的影响量化

#### 5.5 Recommendation for Future Seasons (0.5 page)
- 综合评估各规则
- 明确推荐（带论证）
- 潜在改进方向

---

## 六、执行时间表

| 步骤 | 任务 | 预计时间 |
|------|------|----------|
| 1 | 数据准备与派生变量计算 | 1 小时 |
| 2 | 反事实模拟代码实现 | 2 小时 |
| 3 | 公平性指标计算 | 1.5 小时 |
| 4 | Bottom2 分析 | 1.5 小时 |
| 5 | 可视化 | 2 小时 |
| 6 | 论文写作 | 3 小时 |
| **总计** | | **11 小时** |

---

## 七、预期关键发现（假设）

基于对 DWTS 历史的了解，我们预期可能发现：

1. **Percent 规则更利于舞技高手**：因为评委分直接体现在组合分中，而非仅用于排名
2. **Rank 规则可能产生更多"争议淘汰"**：因为排名压缩效应（9人中排第8和第9的差距被放大）
3. **Judges' Save 确实偏向评委分高的选手**：但这可能也是节目设计的初衷
4. **Bottom2 规则增加了不确定性**：因为引入了评委的主观判断

---

## 八、与第一问的衔接

- 第一问提供了 `fan_vote_share` 的**点估计**和**不确定性区间**
- 第二问分析应该考虑不确定性：
  - 核心分析使用点估计
  - 敏感性分析可以使用 CI 边界值进行"鲁棒性检验"
  - 如果结论在不确定性范围内仍然稳健，则更有说服力

---

> **一句话总结**：  
> 第二问不是简单地"描述规则差异"，  
> 而是"用估计的投票数据，量化不同规则对淘汰结果、公平性、评委权力的影响，并据此提出有依据的政策建议"。
